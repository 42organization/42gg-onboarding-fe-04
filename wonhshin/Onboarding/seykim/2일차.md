# 온보딩 2일차
- [RDB && RDBMS](#rdb--rdbms)
- [RDB와 NoSQL의 차이](#rdb와-nosql의-차이)
- [테이블, 컬럼, 스키마](#테이블-컬럼-스키마)
- [데이터 모델링](#데이터-모델링)
- [데이터 정규화](#데이터-정규화)
- [트랜잭션](#트랜잭션)
- [DB의 무결성](#db의-무결성)
- [자주 사용하는 SQL문](#자주-사용하는-sql문)

## [RDB && RDBMS](https://curriculum.cosadama.com/basic-sql/1-3/)
- ### RDB
        Relational DataBase로 관계형 데이터베이스라고 함

        key, value를 2차원 테이블 형식으로 나타내며 하나의 데이터 베이스 안에는 여러 테이블이 존재할 수 있음

        각 테이블은 행,열로 이루어져 있고 각 열은 특정 데이터 타입을 가짐

    - 구성요소
        - 테이블 : 데이터를 저장하는 기본 단위

        - 행 또는 레코드 : 특정 엔티티나 해당 항목의 여러 속성의 값을 가짐

        - 열 또는 속성 : 테이블의 각 열의 특정 속성

    - 특징
        - 정규화 : 데이터를 중복없이 효율적으로 담기 위함, 이를 통해 데이터 무결성을 지님

        - 관계 설정 : 테이블간의 관계를 설정하여 연결할 수 있음, 보통 FK(Foreign Key)를 통해 연결되며 일대일, 일대다, 다대다 모델을 가짐

        - SQL : 데이터의 저장, 수정, 삭제 등의 작업을 함

- ### RDBMS
        Relational DataBase Management System으로 관계형 데이터베이스 관리 시스템이라 함

        MySQL, PostgreSQL, Oracle 등이 포함됨

    - 주요 기능

        1. 데이터의 정의(DDL) : 테이블, 인덱스, 뷰 등 데이터베이스의 구조를 정의하는 기능

        2. 데이터 조작(DML) : 데이터를 추가, 수정, 삭제 하는 기능

        3. 데이터 조회(DQL) : 데이터를 검색하는 기능으로 SQL의 SELECT가 여기에 포함

        4. 데이터 무결성 관리 : 데이터의 일관성을 유지하기 위한 기능으로, FK, PK, UNIQUE등이 포함 됨

        5. 트랜잭션 관리 : 여러 데이터 조작을 하나의 단위로 묶는 것으로, 트랜잭션의 원자성, 일관성, 고립성, 지속성의 원칙을 지킴(ACID)

        6. 동시성 제어 : 다중 사용자 환경을 지원하며, 잠금 매커니즘을 통해 무결성을 유지

        7. 백업과 복구 : 데이터 손실을 방지하고 이를 복구할 수 있도록 지원

    - ### [ACID](https://ko.wikipedia.org/wiki/ACID)
        - 원자성(Atomicity) : 트랜잭션과 관련된 작업들이 부분적으로 실행되다가 중단되지 않는 것을 보장하는 것

        - 일관성(Consistency) : 트랜잭션 처리 전과 후의 데이터 모순이 없는 상태를 유지

        - 고립성(Isolation) : 트랜잭션 수행 시 다른 트랜잭션의 연산 작업이 끼어들지 못하도록 보장하는 것

        - 지속성(Durability) : 성공적으로 진행된 트랜잭션은 영원히 반영되어야 함
    
## RDB와 NoSQL의 차이
- ### NoSQL
            비정형 데이터 또는 반정형 데이터를 저장하고 관리하는데 초점을 둔 데이터 베이스

            문서형, 키-값형, 컬럼형, 그래프형 등의 데이터 모델이 있음

            주로 데이터의 구조가 자주 변하거나 많은 데이터를 빠르게 처리해야하는 곳에 사용 -> 웹 애플리케이션, 실시간 데이터 분석, IoT, 소셜 네트워크 등에 쓰임

    - NoSQL의 특징

        - 유연한 데이터 구조 : 고정된 스키마가 없어 데이터의 구조가 변해도 수정하기 편리함

        - 확장성 : 분산형 구조로 데이터가 계속 추가 되어도 확장하기 용이함

        - BASE 속성 : BASE원칙(Basically Available, Soft state, Eventually consistent)을 따르며, 이는 데이터가 완벽하게 일관되지 않아도 일관성에 도달한다는 속성

        - 데이터 모델 종류
            - 문서형 : 데이터를 JSON, BSON 형식의 문서로 저장(MongoDB 등)

            - 키-값 : 데이터를 키와 값의 쌍으로 저장(Redis 등)

            - 컬럼형 : 컬럼 패밀리 형식으로 데이터를 저장하며 특정 컬럼에 빠른 접근 속도를 가짐(HBase 등)

            - 그래프형 : 데이터의 관계를 그래프의 구조로 저장(Neo4j 등)

- ### NoSQL과 RDB의 차이
    |특성|RDB|NoSQL|
    |:---|:---|:---|
    |데이터 구조|고정된 테이블 구조, 행과 열|유연한 구조, 스키마가 없음|
    |관계|외래키로 각 테이블간의 관계 명시|데이터 모델에 따라 관계 표현 가능(문서, 키-값, 컬럼, 그래프)|
    |확장성|수직적 확장(서버의 성능을 높임)|수평적 확장(서버를 추가 확장)|
    |ACID 지원|ACID 속성으로 일관성 중시|BASE 속성으로 가용성 및 확장성 중시|
    |주요 사용 사례|금융, ERP 등 정확한 데이터가 필요한 경우|빅데이터, 실시간 네트워크, IoT 등|


## 테이블, 컬럼, 스키마
- ### 테이블
    - 데이터 베이스에서 데이터를 저장하는 구조적인 단위로, 행과 열로 구분

    - 행 : 하나의 엔티티에 대한 테이블의 모든 정보
    
    - 열 : 엔티티의 하나의 속성

- ### 컬럼
    - 데이터베이스의 테이블의 속성

    - 각 컬럼은 특정 데이터 타입을 가짐

<img width="770" alt="스크린샷 2024-11-12 오후 1 57 18" src="https://github.com/user-attachments/assets/da653e59-eabb-460f-9921-37a78073357f">


- ### 스키마
    - 데이터 베이스의 구조를 정의하는 틀이나 설계도

    - 스키마의 구조
        - 외부 스키마 : 사용자의 입장에서 데이터 베이스의 모습으로 일부분을 정의한 것

        - 내부 스키마 : 모든 사용자들이 필요로하는 데이터를 통합한 전체의 데이터 베이스 구조를 논리적으로 정의한 것

        - 개념 스키마 : 전체 데이터 베이스의 물리적 저장 형태를 기술하는 것

<img width="839" alt="스크린샷 2024-11-12 오후 2 04 16" src="https://github.com/user-attachments/assets/0550ee0e-b83e-4bc6-a210-4c191c3618c9">


## 데이터 모델링
- 데이터 모델링 : 데이터 베이스 시스템의 구조와 관계를 시각적으로 표현하고, 데이터의 저장 및 처리 방식을 계획하는 프로세스

- ### 데이터 모델링의 목적
    - 데이터 구조의 정의 : 데이터를 어떻게 저장할 것인지, 어떤 테이블과 컬럼이 필요할 것인지 결정

    - 데이터 관계 명세 : 서로 다른 데이터 간의 관계를 정의하여 효율적으로 관리 및 쿼리 할 수 있도록 함

    - 데이터 무결성 유지 : 데이터의 정확성과 일관성을 보장하기 위해 제약과 규칙 설정

    - 요구 사항 수집 : 시스템 요구사항을 수집 및 데이터 흐름을 이해하여 필요한 데이터 정의

- ### 데이터 모델링의 단계
    1. 개념적 데이터 모델링
        - 전체적인 데이터 구조를 높은 수준에서 정의

        - 주로 ERD를 사용하여 시각적으로 나타냄

    2. 논리적 데이터 모델링
        - 개념적 모델에서 더 구체적인 데이터 구조를 정의

        - 데이터 타입, 키, 제약 조건 등을 포함하며 DBMS와는 독립적
    3. 물리적 데이터 모델링
        - 논리적 모델을 바탕으로 실제 DBMS에 구현할 수 있도록 세부적인 구조 정의

        - 인덱스, 파티셔닝, 성능 고려 등 실제 데이터 베이스의 설계를 최적화

- ### 데이터 모델링의 도구와 기법
    - ERD(Entity-Relationship Diagram) : 데이터 모델링에서 가장 일반적으로 사용되는 시각적 도구로 엔티티와 그들 간의 관계를 나타냄, 엔티티는 사각형, 관계는 선, 속성은 타원으로 표시 

    - UMLD(Unified Modeling Language Diagram) : 객체지향 프로그래밍과 연계하여 사용

    - 정규화 : 데이터 중복을 최소화하고 데이터의 무결성을 유지하기 위해 테이블을 구조적으로 나누는 과정

- ### 데이터 모델링의 중요성
    - 비즈니스 요구 반영 : 데이터 모델링은 비즈니스 프로세스를 이해하고 필요한 데이터를 정의

    - 효율적인 데이터 관리 : 데이터의 무결성을 유지하고 쿼리 성능을 향상

    - 변화에 대한 유연성 : 시스템의 확장성과 유연성을 높임

## 데이터 정규화
- ### 제1 정규화
    - 각 셀에는 하나의 값만 있어야하며 중복되는 컬럼이 없어야 함

    <img width="866" alt="스크린샷 2024-11-12 오후 3 30 59" src="https://github.com/user-attachments/assets/8de4d7cb-4558-4ce0-8d4b-b79b6743f5ba">

- ### 제2 정규화
    - 제1 정규화를 만족하면서 테이블의 모든 컬럼이 PK에 완전 함수 종속이 되어야 함
        - 완전 함수 종속 : PK 전체에 종속적이여야함, 부분적으로 종속된 컬럼은 별도의 테이블로 분리

    <img width="875" alt="스크린샷 2024-11-12 오후 3 37 15" src="https://github.com/user-attachments/assets/8f276853-1e0e-4212-b4cb-0d44fac17d6d">

- ### 제3 정규화
    - 제2 정규화를 만족하면서 이행적 종속이 없어야 함

    - 이행적 종속 : 어떤 컬럼 A가 기본 키 X에 종속이고, 또 다른 컬럼 B가 컬럼 A에 종속적일 때, 컬럼 B는 기본 키 X에 이행적으로 종속
        - X -> A, A -> B => X -> B

    <img width="830" alt="스크린샷 2024-11-12 오후 3 44 16" src="https://github.com/user-attachments/assets/e37d7358-5172-4b76-b2a4-34e127746db7">

## 트랜잭션
-  트랜잭션(Transaction) : 데이터 베이스에서 여러 작업을 하나의 논리적 작업 단위로 묶은 것
    - [ACID](#acid)

    -  트랜잭션 관리
        - BEGIN : 트랜잭션의 시작을 명시

        - COMMIT : 트랜잭션 내 모든 작업이 성공했을 때, 이를 완료하고 데이터 베이스에 영구히 반영

        - ROLLBACK : 트랜잭션 내 작업이 하나라도 오류가 발생했을 때, 해당 트랜잭션을 취소하고 데이터베이스를 트랜잭션 실행 전 상태로 되돌림

## DB의 무결성
- 무결성 : 데이터 베이스에서 데이터의 정확성, 일관성, 신뢰성을 유지하는 것
    - 데이터 무결성의 종류
        1. 개체 무결성(Entity Integrity)
            - 기본 키 제약 조건을 통해 데이터 베이스의 각 행이 고유한 식별자를 가지도록 보장

        2. 참조 무결성(Referentiaol Integrity)
            - 외래 키 제약 조건을 통해 두 테이블 간의 관계를 올바르게 유지

        3. 도메인 무결성(Domain Integrity)
            - 컬럼의 데이터 타입과 제약 조건을 통해 특정 컬럼에 들어갈 수 있는 범위 지정

        4. 고유성 무결성(Unique Integrity)
            - 특정 컬럼이나 조합이 유일한 값을 가져야 한다는 제약 조건을 설정하여 중복 방지

        5. 속성 무결성(Attribute Integrity)
            - 각 컬럼의 속성이 올바르게 유지되도록 하여 필수 데이터가 누락되지 않도록 보장

## 자주 사용하는 SQL문
- DDL(Data Definition Language) : 테이블이나 관계의 구조를 생성하는 언어
    - Create : 새로운 데이터베이스 테이블 , 뷰 인덱스 저장 프로시저 생성
    - Drop : 이미 존재하는 데이터베이스 테이블, 뷰, 인덱스, 저장 프로시저 삭제
    - Alter : 이미 존재하는 데이터베이스 개체에 대한 변경
    - Truncate : 테이블에서 데이터 제거(한번 삭제 시 돌이킬 수 없음)

- DML(Data Manipulation Language) : 테이블에 데이터 검색, 삽입, 수정, 삭제하는데 사용
    - Select - 검색
    - Insert - 삽입
    - Update - 업데이트
    - Delete - 삭제

- DCL(Data Control Language) : 데이터의 사용 권한을 관리하는데 사용함
    - Grant : 특정 데이터베이스 사용자에게 특정 작업에 대한 수행 권한 부여
    - Revoke : 특정 데이터베이스 사용자에게 특정 작업에 대한 수행 권한 삭제
        - 부여할 수 있는  권한
            - Connect
            - Select
            - Insert
            - Update
            - Delete
            - Usage